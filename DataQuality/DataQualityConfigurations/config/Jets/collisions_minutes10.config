# **********************************************************************
# $Id: collisions_minutes10.config 512385 2012-08-03 15:02:09Z vogel $
# *********************************************************************

########################################################
#   JETS
########################################################

#############
# Output
#############

output top_level {

#   algorithm = JetGatherData
   algorithm = WorstCaseSummary

   output Jets {


######################################
#AntiKt4TopoEMJets
######################################

    output AntiKt4TopoEMJets {


     output Summary {
     }

     output UnClean {
  
        output JetShapes {
          weight = 0
        }
        output LeadingJet {
          weight = 0
        }
        output EtaPhi {
          weight = 0
        }
        output Kinematics {
          weight = 0
        }
        output Calibration {
          weight = 0
        }
        output CleaningVariables {
          weight = 0
        }
        output EnergyByLayers {
          weight = 0
        }
       output LB {
          weight = 0
       }
      }
     output Details {
  
        output JetShapes {
          weight = 0
        }
        output LeadingJet {
          weight = 0
        }
        output EtaPhi {
          weight = 0
        }
        output Kinematics {
          weight = 0
        }
        output Calibration {
          weight = 0
        }
        output EnergyByLayers {
          weight = 0
        }
       output LB {
          weight = 0
       }
      }



    }


############################################
# Trigger aware
############################################

    output AntiKt4TopoEMJets_EF_j30 {

     output Summary {
     }
                  
     output Details {         
                
        output JetShapes {      
          weight = 0          
        }           
        output LeadingJet {     
          weight = 0          
        }           
        output EtaPhi {         
          weight = 0          
        }           
        output Kinematics {     
          weight = 0          
        }           
        output Calibration {    
          weight = 0          
        }           
        output EnergyByLayers { 
          weight = 0          
        }           
       output LB {
          weight = 0
       }
      }             
    }             
 
#############################             
#          pt20 cut        #
#############################

    output AntiKt4TopoEMJets_pt20 {

     output Summary {
       weight = 0
     }

     output Details { 
     
        output JetShapes {
          weight = 0
        }
        output LeadingJet {
          weight = 0
        }
        output EtaPhi {
          weight = 0
        }
        output Kinematics {
          weight = 0
        }
        output Calibration {
          weight = 0
        }
        output EnergyByLayers {
          weight = 0
        }
       output LB {
          weight = 0
       }
     }
   }

####################################
#  Trigger aware and pt20 cut     #
####################################
   
    output AntiKt4TopoEMJets_EF_j30_pt20 {

     output Summary {
       weight = 0
     }
     output UnClean {
  
        output JetShapes {
          weight = 0
        }
        output LeadingJet {
          weight = 0
        }
        output EtaPhi {
          weight = 0
        }
        output Kinematics {
          weight = 0
        }
        output Calibration {
          weight = 0
        }
        output CleaningVariables {
          weight = 0
        }
        output EnergyByLayers {
          weight = 0
        }
       output LB {
          weight = 0
       }
      }

     output Details { 
     
        output JetShapes {
          weight = 0
        }
        output LeadingJet {
          weight = 0
        }
        output EtaPhi {
          weight = 0
        }
        output Kinematics {
          weight = 0
        }
        output Calibration {
          weight = 0
        }
        output EnergyByLayers {
          weight = 0
        }
       output LB {
          weight = 0
       }
     }
 

     output FailClean {
         weight = 0
      }
   }
    
  }
} 

#################################################
#################################################
#################################################
#################################################
    
########################
# Histogram Assessments#
########################


dir Jets {

   #reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
   algorithm = JetGatherData
#   algorithm = WorstCaseSummary
#  algorithm = JetChisq
 

#####################
# AntiKt4TopoEMJets #
#####################


  dir AntiKt4TopoEMJets {
     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

###################SUMMARY#########################

        hist NoJets@TopoSummary {
         output = Jets/AntiKt4TopoEMJets/Summary
        }
  
        hist JetPt@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary
#          display = AxisRange(0.0,500.0,"X"),LogY
          display = LogY
        }
  
        hist JetEtaPhi@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary

        } 
      
        hist JetNconstituents@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary
          display = AxisRange(0.0,200.0,"X"),LogY
        } 

        hist JetEtaAsymNorm@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary
          display = AxisRange(-0.3,0.3,"Y")
        } 

        hist AveJetPtinEtaPhi@TopoSummary {
      output = Jets/AntiKt4TopoEMJets/Summary
        }

        hist FracPtVsFracConst@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary
        }

       hist JetEMFraction@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary
          display = LogY
        }

       hist EnergyFractionsProf@TopoSummary {
          output = Jets/AntiKt4TopoEMJets/Summary
        }


############################DETAILS################################
      #####################Jet Shapes####################
        hist Jetn90@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
        algorithm = JetShape_Chisq
        }

        hist JetVF@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
#         algorithm = JetShape_Chisq
          display = LogY
        }
 
        hist JetNconstituents@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
          display = AxisRange(0.0,50.0,"X")
        algorithm = JetShape_Chisq
    }

        hist ConstituentPtContribution@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
          display = AxisRange(0.0,200.0,"X"),LogY 
      algorithm = JetShapePt_Chisq
    }

        hist JetNormProf@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
          algorithm = JetShapeProf_Chisq
    }

        hist JetIntgProf@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist ConstituentProf@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
      algorithm = JetShapeProf_Chisq
    }

        hist ConstituentIntg@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist FracPtVsFracConst@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
#          algorithm = JetShapeProf_Chisq
    }

        hist DeltaRmax@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
          display = AxisRange(0.0,1.0,"X"),LogY
      algorithm = JetShape_Chisq
    }


         hist JetWidth@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/JetShapes
      algorithm = JetShape_Chisq
      display = AxisRange(0.0,0.5,"X")
    }
      
      #####################Leading Jet####################

        hist NextToLeadJetEtaPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
        }


        hist LeadJetEta@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPt@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = LeadJPt_Chisq
    }

        hist LeadJetEtaPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
        }

        hist JetDeltaPt@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
          algorithm = LeadJ_Chisq
    }

        hist JetDeltaR@Topo {
         output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }
      
        hist JetDeltaEta@Topo {
         output = Jets/AntiKt4TopoEMJets/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }

      #####################Kinematics####################
  
        hist NoJets@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
#     display = AxisRange(0.0,15.0,"X"),LogY
    }

        hist AveJetEvsPhi@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetEvsEta@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsEta@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhi@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        #hist JetEtaAsym@Topo {
        #  output = Jets/AntiKt4TopoEMJets/Details/Kinematics
        #} 
 
        hist JetMass@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
          display = AxisRange(0.0,30.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }

        hist JetEta@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKin_Chisq
    }

        hist JetPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKin_Chisq
    }


        hist JetE@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
          display = LogY
      algorithm = JetKin_Chisq
    }

        hist JetE@TopoZoom {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKin_Chisq
    }

        hist JetPt@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }  

        hist JetHTmiss@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetHTmissPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetsumEt@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      display = LogY
      algorithm = JetKin_Chisq
    }

        hist AveJetPtvsEtaCalCut@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhiCalCut@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist JetAbsEta@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
    }

        hist JetEtaAsymNorm@TopoZOOM {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
          display = AxisRange(-0.3,0.3,"Y")
          algorithm = JetKinAve_Chisq
    }
        hist JetEtaAsymNorm@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Kinematics
          display = AxisRange(-1.1,1.1,"Y")
          algorithm = JetKinAve_Chisq
    }
      ########## Eta-Phi #########################

        hist JetEtaPhi@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/EtaPhi
      algorithm = JetEtaPhi_BinsDiff
    }

        hist AveJetEinEtaPhi@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
        hist AveJetPtinEtaPhi@Topo {
      output = Jets/AntiKt4TopoEMJets/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
      ########## Calibration #########################

        hist CalibrationVsEta@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Calibration
      algorithm = Calibration_Chisq
    }
        
        hist CalibrationVsPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Calibration
      algorithm = Calibration_Chisq
    }

        hist CalibrationVsPt@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/Calibration
      algorithm = CalibrationPt_Chisq
    } 


     ########## Energy By Layers ########################
        hist EmPreFrac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
          algorithm = Energy_Chisq
    }
        hist HECFrac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EMECFrac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EM1Frac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM2Frac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM3Frac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist Tile0Frac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile1Frac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile2Frac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist TileGapFrac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist FCalFrac@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
        }
        hist JetEMFraction@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EnergyFractionsProf@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
      algorithm = JetKinAve_Chisq
        }

        hist AveJetEMFracinEtaPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
        }

        hist AveJetHADFracinEtaPhi@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/EnergyByLayers
        }
################### LB ##############
        hist AveJetPtvsLB@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveJetEvsLB@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveJetSumEtvsLB@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveNJetvsLB@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveJetPtvsNVert@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveJetEvsNVert@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveJetSumEtvsNVert@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }
        hist AveNJetvsNVert@Topo {
          output = Jets/AntiKt4TopoEMJets/Details/LB
        }

 
     
  }

  dir AntiKt4TopoEMJets {
    dir UnClean {

######################################################
#               AntiKt4Topo with no cleaning         #
######################################################

     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

############################DETAILS################################
        hist Jetn90@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
        algorithm = JetShape_Chisq
        }

        hist JetVF@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
#         algorithm = JetShape_Chisq
          display = LogY
        }
 
        hist JetNconstituents@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
          display = AxisRange(0.0,50.0,"X")
        algorithm = JetShape_Chisq
    }

        hist ConstituentPtContribution@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
          display = AxisRange(0.0,200.0,"X"),LogY 
      algorithm = JetShapePt_Chisq
    }

        hist JetNormProf@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
          algorithm = JetShapeProf_Chisq
    }

        hist JetIntgProf@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist ConstituentProf@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
      algorithm = JetShapeProf_Chisq
    }

        hist ConstituentIntg@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist FracPtVsFracConst@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
#          algorithm = JetShapeProf_Chisq
    }

        hist DeltaRmax@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
          display = AxisRange(0.0,1.0,"X"),LogY
      algorithm = JetShape_Chisq
    }


         hist JetWidth@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/JetShapes
      algorithm = JetShape_Chisq
      display = AxisRange(0.0,0.5,"X")
    }
      

        hist NextToLeadJetEtaPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
        }


        hist LeadJetEta@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPt@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = LeadJPt_Chisq
    }

        hist LeadJetEtaPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
        }

        hist JetDeltaPt@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
          algorithm = LeadJ_Chisq
    }

        hist JetDeltaR@TopoUnClean {
         output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
     algorithm = LeadJ_Chisq
    }
      
        hist JetDeltaEta@TopoUnClean {
         output = Jets/AntiKt4TopoEMJets/UnClean/LeadingJet
     algorithm = LeadJ_Chisq
    }

      #####################CleaningVariables####################

        hist JetPtTime@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogZ
    }
        hist JetTime@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogY
    }
        hist JetQuality@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogY
    }
        hist JetQEtaPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
    }
        hist JetHECQ@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogY
    }
        hist JetNegE@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogY
    }
        hist JetCHF@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogY
    }
        hist JetHECf@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
          display = LogY
    }
        hist JetFracSamplingMax@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/CleaningVariables
    }

      #####################Kinematics####################
  
        hist NoJets@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
#     display = AxisRange(0.0,15.0,"X"),LogY
    }

        hist AveJetEvsPhi@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetEvsEta@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetPtvsEta@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetPtvsPhi@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        #hist JetEtaAsym@TopoUnClean {
        #  output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
        #} 
 
        hist JetMass@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
          display = AxisRange(0.0,30.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }

        hist JetEta@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }

        hist JetPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }


        hist JetE@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
          display = LogY
      algorithm = JetKin_Chisq
    }

        hist JetE@TopoUnCleanZoom {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKin_Chisq
    }

        hist JetPt@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }  

        hist JetHTmiss@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetHTmissPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetsumEt@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      display = LogY
      algorithm = JetKin_Chisq
    }

        hist AveJetPtvsEtaCalCut@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetPtvsPhiCalCut@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist JetAbsEta@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
    }

        hist JetEtaAsymNorm@TopoUnCleanZOOM {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
          display = AxisRange(-0.3,0.3,"Y")
          algorithm = JetKinAve_Chisq
    }
        hist JetEtaAsymNorm@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Kinematics
          display = AxisRange(-1.1,1.1,"Y")
          algorithm = JetKinAve_Chisq
    }
      ########## Eta-Phi #########################

        hist JetEtaPhi@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/EtaPhi
      algorithm = JetEtaPhi_BinsDiff
    }

        hist AveJetEinEtaPhi@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
        hist AveJetPtinEtaPhi@TopoUnClean {
      output = Jets/AntiKt4TopoEMJets/UnClean/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
      ########## Calibration #########################

        hist CalibrationVsEta@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Calibration
      algorithm = Calibration_Chisq
    }
        
        hist CalibrationVsPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Calibration
      algorithm = Calibration_Chisq
    }

        hist CalibrationVsPt@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/Calibration
      algorithm = CalibrationPt_Chisq
    } 


     ########## Energy By Layers ########################
        hist EmPreFrac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
          algorithm = Energy_Chisq
    }
        hist HECFrac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EMECFrac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EM1Frac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM2Frac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM3Frac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist Tile0Frac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile1Frac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile2Frac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist TileGapFrac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist FCalFrac@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
        }
        hist JetEMFraction@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EnergyFractionsProf@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
      algorithm = JetKinAve_Chisq
        }

        hist AveJetEMFracinEtaPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
        }

        hist AveJetHADFracinEtaPhi@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/EnergyByLayers
        }
################### LB ##############
        hist AveJetPtvsLB@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveJetEvsLB@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveJetSumEtvsLB@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveNJetvsLB@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveJetPtvsNVert@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveJetEvsNVert@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveJetSumEtvsNVert@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
        hist AveNJetvsNVert@TopoUnClean {
          output = Jets/AntiKt4TopoEMJets/UnClean/LB
        }
     

    }
  }

#####################
# AntiKt4TopoEMJets_pt20 #
#####################


  dir AntiKt4TopoEMJets_pt20 {
     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

###################SUMMARY#########################

        hist NoJets@TopoPt20Summary {
         output = Jets/AntiKt4TopoEMJets_pt20/Summary
        }
  
        hist JetPt@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary
#          display = AxisRange(0.0,500.0,"X"),LogY
          display = LogY
        }
  
        hist JetEtaPhi@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary

        } 
      
        hist JetNconstituents@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary
          display = AxisRange(0.0,200.0,"X"),LogY
        } 

        hist JetEtaAsymNorm@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary
          display = AxisRange(-0.3,0.3,"Y")
        } 

        hist AveJetPtinEtaPhi@TopoPt20Summary {
      output = Jets/AntiKt4TopoEMJets_pt20/Summary
        }

        hist FracPtVsFracConst@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary
        }

       hist JetEMFraction@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary
          display = LogY
        }

       hist EnergyFractionsProf@TopoPt20Summary {
          output = Jets/AntiKt4TopoEMJets_pt20/Summary
        }

############################DETAILS################################
      #####################Jet Shapes####################
        hist Jetn90@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
        algorithm = JetShape_Chisq
        }

        hist JetVF@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
#         algorithm = JetShape_Chisq
          display = LogY
        }
 
        hist JetNconstituents@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
          display = AxisRange(0.0,50.0,"X")
        algorithm = JetShape_Chisq
    }

        hist ConstituentPtContribution@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
          display = AxisRange(0.0,200.0,"X"),LogY 
      algorithm = JetShapePt_Chisq
    }

        hist JetNormProf@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
          algorithm = JetShapeProf_Chisq
    }

        hist JetIntgProf@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist ConstituentProf@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
      algorithm = JetShapeProf_Chisq
    }

        hist ConstituentIntg@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist FracPtVsFracConst@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
#          algorithm = JetShapeProf_Chisq
    }

        hist DeltaRmax@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
          display = AxisRange(0.0,1.0,"X"),LogY
      algorithm = JetShape_Chisq
    }


         hist JetWidth@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/JetShapes
      algorithm = JetShape_Chisq
      display = AxisRange(0.0,0.5,"X")
    }
      
      #####################Leading Jet####################

        hist NextToLeadJetEtaPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
        }


        hist LeadJetEta@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPt@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = LeadJPt_Chisq
    }

        hist LeadJetEtaPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
        }

        hist JetDeltaPt@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
          algorithm = LeadJ_Chisq
    }

        hist JetDeltaR@TopoPt20 {
         output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }
      
        hist JetDeltaEta@TopoPt20 {
         output = Jets/AntiKt4TopoEMJets_pt20/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }

      #####################Kinematics####################
  
        hist NoJets@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
#     display = AxisRange(0.0,15.0,"X"),LogY
    }

        hist AveJetEvsPhi@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetEvsEta@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsEta@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhi@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        #hist JetEtaAsym@TopoPt20 {
        #  output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
        #} 
 
        hist JetMass@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
          display = AxisRange(0.0,30.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }

        hist JetEta@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }

        hist JetPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }


        hist JetE@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
          display = LogY
      algorithm = JetKin_Chisq
    }

        hist JetE@TopoPt20Zoom {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKin_Chisq
    }

        hist JetPt@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }  

        hist JetHTmiss@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetHTmissPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetsumEt@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      display = LogY
      algorithm = JetKin_Chisq
    }

        hist AveJetPtvsEtaCalCut@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhiCalCut@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist JetAbsEta@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
    }

        hist JetEtaAsymNorm@TopoPt20ZOOM {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
          display = AxisRange(-0.3,0.3,"Y")
          algorithm = JetKinAve_Chisq
    }
        hist JetEtaAsymNorm@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Kinematics
          display = AxisRange(-1.1,1.1,"Y")
          algorithm = JetKinAve_Chisq
    }
      ########## Eta-Phi #########################

        hist JetEtaPhi@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/EtaPhi
      algorithm = JetEtaPhi_BinsDiff
    }

        hist AveJetEinEtaPhi@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
        hist AveJetPtinEtaPhi@TopoPt20 {
      output = Jets/AntiKt4TopoEMJets_pt20/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
      ########## Calibration #########################

        hist CalibrationVsEta@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Calibration
      algorithm = Calibration_Chisq
    }
        
        hist CalibrationVsPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Calibration
      algorithm = Calibration_Chisq
    }

        hist CalibrationVsPt@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/Calibration
      algorithm = CalibrationPt_Chisq
    } 


     ########## Energy By Layers ########################
        hist EmPreFrac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
          algorithm = Energy_Chisq
    }
        hist HECFrac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EMECFrac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EM1Frac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM2Frac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM3Frac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist Tile0Frac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile1Frac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile2Frac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist TileGapFrac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist FCalFrac@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
        }
        hist JetEMFraction@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EnergyFractionsProf@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
      algorithm = JetKinAve_Chisq
        }

        hist AveJetEMFracinEtaPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
        }

        hist AveJetHADFracinEtaPhi@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/EnergyByLayers
        }
################### LB ##############
        hist AveJetPtvsLB@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveJetEvsLB@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveJetSumEtvsLB@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveNJetvsLB@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveJetPtvsNVert@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveJetEvsNVert@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveJetSumEtvsNVert@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
        hist AveNJetvsNVert@TopoPt20 {
          output = Jets/AntiKt4TopoEMJets_pt20/Details/LB
        }
 
     
  }

#####################
# AntiKt4TopoEMJets_EF_j30 #
#####################


  dir AntiKt4TopoEMJets_EF_j30 {
     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

###################SUMMARY#########################

        hist NoJets@TopoTriggerSummary {
         output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
        }
  
        hist JetPt@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
#          display = AxisRange(0.0,500.0,"X"),LogY
          display = LogY
        }
  
        hist JetEtaPhi@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary

        } 
      
        hist JetNconstituents@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
          display = AxisRange(0.0,200.0,"X"),LogY
        } 

        hist JetEtaAsymNorm@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
          display = AxisRange(-0.3,0.3,"Y")
        } 

        hist AveJetPtinEtaPhi@TopoTriggerSummary {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
        }

        hist FracPtVsFracConst@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
        }

       hist JetEMFraction@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
          display = LogY
        }

       hist EnergyFractionsProf@TopoTriggerSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Summary
        }

############################DETAILS################################
      #####################Jet Shapes####################
        hist Jetn90@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
        algorithm = JetShape_Chisq
        }

        hist JetVF@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
#         algorithm = JetShape_Chisq
          display = LogY
        }
 
        hist JetNconstituents@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
          display = AxisRange(0.0,50.0,"X")
        algorithm = JetShape_Chisq
    }

        hist ConstituentPtContribution@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
          display = AxisRange(0.0,200.0,"X"),LogY 
      algorithm = JetShapePt_Chisq
    }

        hist JetNormProf@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
          algorithm = JetShapeProf_Chisq
    }

        hist JetIntgProf@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist ConstituentProf@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
      algorithm = JetShapeProf_Chisq
    }

        hist ConstituentIntg@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist FracPtVsFracConst@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
#          algorithm = JetShapeProf_Chisq
    }

        hist DeltaRmax@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
          display = AxisRange(0.0,1.0,"X"),LogY
      algorithm = JetShape_Chisq
    }


         hist JetWidth@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/JetShapes
      algorithm = JetShape_Chisq
      display = AxisRange(0.0,0.5,"X")
    }
      
      #####################Leading Jet####################

        hist NextToLeadJetEtaPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
        }


        hist LeadJetEta@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPt@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = LeadJPt_Chisq
    }

        hist LeadJetEtaPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
        }

        hist JetDeltaPt@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
          algorithm = LeadJ_Chisq
    }

        hist JetDeltaR@TopoTrigger {
         output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }
      
        hist JetDeltaEta@TopoTrigger {
         output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }

      #####################Kinematics####################
  
        hist NoJets@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
#     display = AxisRange(0.0,15.0,"X"),LogY
    }

        hist AveJetEvsPhi@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetEvsEta@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsEta@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhi@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        #hist JetEtaAsym@TopoTrigger {
        #  output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
        #} 
 
        hist JetMass@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
          display = AxisRange(0.0,30.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }

        hist JetEta@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKin_Chisq
    }

        hist JetPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKin_Chisq
    }


        hist JetE@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
          display = LogY
      algorithm = JetKin_Chisq
    }

        hist JetE@TopoTriggerZoom {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKin_Chisq
    }

        hist JetPt@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }  

        hist JetHTmiss@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetHTmissPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetsumEt@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      display = LogY
      algorithm = JetKin_Chisq
    }

        hist AveJetPtvsEtaCalCut@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhiCalCut@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist JetAbsEta@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
    }

        hist JetEtaAsymNorm@TopoTriggerZOOM {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
          display = AxisRange(-0.3,0.3,"Y")
          algorithm = JetKinAve_Chisq
    }
        hist JetEtaAsymNorm@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Kinematics
          display = AxisRange(-1.1,1.1,"Y")
          algorithm = JetKinAve_Chisq
    }
      ########## Eta-Phi #########################

        hist JetEtaPhi@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EtaPhi
      algorithm = JetEtaPhi_BinsDiff
    }

        hist AveJetEinEtaPhi@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
        hist AveJetPtinEtaPhi@TopoTrigger {
      output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
      ########## Calibration #########################

        hist CalibrationVsEta@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Calibration
      algorithm = Calibration_Chisq
    }
        
        hist CalibrationVsPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Calibration
      algorithm = Calibration_Chisq
    }

        hist CalibrationVsPt@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/Calibration
      algorithm = CalibrationPt_Chisq
    } 


     ########## Energy By Layers ########################
        hist EmPreFrac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
          algorithm = Energy_Chisq
    }
        hist HECFrac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EMECFrac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EM1Frac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM2Frac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM3Frac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist Tile0Frac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile1Frac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile2Frac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist TileGapFrac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist FCalFrac@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
        }
        hist JetEMFraction@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EnergyFractionsProf@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
      algorithm = JetKinAve_Chisq
        }

        hist AveJetEMFracinEtaPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
        }

        hist AveJetHADFracinEtaPhi@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/EnergyByLayers
        }
################### LB ##############
        hist AveJetPtvsLB@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveJetEvsLB@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveJetSumEtvsLB@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveNJetvsLB@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveJetPtvsNVert@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveJetEvsNVert@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveJetSumEtvsNVert@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
        hist AveNJetvsNVert@TopoTrigger {
          output = Jets/AntiKt4TopoEMJets_EF_j30/Details/LB
        }
 
     
  }


######################################################
#      AntiKt4Topo_EF_j30_pt20 with no cleaning      #
######################################################
dir AntiKt4TopoEMJets_EF_j30_pt20 {
  dir UnClean {

     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

############################DETAILS################################
        hist Jetn90@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
        algorithm = JetShape_Chisq
        }

        hist JetVF@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
#         algorithm = JetShape_Chisq
          display = LogY
        }
 
        hist JetNconstituents@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
          display = AxisRange(0.0,50.0,"X")
        algorithm = JetShape_Chisq
    }

        hist ConstituentPtContribution@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
          display = AxisRange(0.0,200.0,"X"),LogY 
      algorithm = JetShapePt_Chisq
    }

        hist JetNormProf@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
          algorithm = JetShapeProf_Chisq
    }

        hist JetIntgProf@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist ConstituentProf@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
      algorithm = JetShapeProf_Chisq
    }

        hist ConstituentIntg@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist FracPtVsFracConst@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
#          algorithm = JetShapeProf_Chisq
    }

        hist DeltaRmax@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
          display = AxisRange(0.0,1.0,"X"),LogY
      algorithm = JetShape_Chisq
    }


         hist JetWidth@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/JetShapes
      algorithm = JetShape_Chisq
      display = AxisRange(0.0,0.5,"X")
    }
      

        hist NextToLeadJetEtaPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
        }


        hist LeadJetEta@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPt@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = LeadJPt_Chisq
    }

        hist LeadJetEtaPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
        }

        hist JetDeltaPt@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
          algorithm = LeadJ_Chisq
    }

        hist JetDeltaR@TopoTriggerPt20UnClean {
         output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
     algorithm = LeadJ_Chisq
    }
      
        hist JetDeltaEta@TopoTriggerPt20UnClean {
         output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LeadingJet
     algorithm = LeadJ_Chisq
    }
      #####################CleaningVariables####################

        hist JetPtTime@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogZ
    }
        hist JetTime@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogY
    }
        hist JetQuality@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogY
    }
        hist JetQEtaPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
    }
        hist JetHECQ@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogY
    }
        hist JetNegE@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogY
    }
        hist JetCHF@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogY
    }
        hist JetHECf@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
          display = LogY
    }
        hist JetFracSamplingMax@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/CleaningVariables
    }

      #####################Kinematics####################
  
        hist NoJets@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
#     display = AxisRange(0.0,15.0,"X"),LogY
    }

        hist AveJetEvsPhi@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetEvsEta@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetPtvsEta@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetPtvsPhi@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        #hist JetEtaAsym@TopoTriggerPt20UnClean {
        #  output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
        #} 
 
        hist JetMass@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
          display = AxisRange(0.0,30.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }

        hist JetEta@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }

        hist JetPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }


        hist JetE@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
          display = LogY
      algorithm = JetKin_Chisq
    }

        hist JetE@TopoTriggerPt20UnCleanZoom {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKin_Chisq
    }

        hist JetPt@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }  

        hist JetHTmiss@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetHTmissPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetsumEt@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      display = LogY
      algorithm = JetKin_Chisq
    }

        hist AveJetPtvsEtaCalCut@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetPtvsPhiCalCut@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist JetAbsEta@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
    }

        hist JetEtaAsymNorm@TopoTriggerPt20UnCleanZOOM {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
          display = AxisRange(-0.3,0.3,"Y")
          algorithm = JetKinAve_Chisq
    }
        hist JetEtaAsymNorm@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Kinematics
          display = AxisRange(-1.1,1.1,"Y")
          algorithm = JetKinAve_Chisq
    }
      ########## Eta-Phi #########################

        hist JetEtaPhi@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EtaPhi
      algorithm = JetEtaPhi_BinsDiff
    }

        hist AveJetEinEtaPhi@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
        hist AveJetPtinEtaPhi@TopoTriggerPt20UnClean {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
      ########## Calibration #########################

        hist CalibrationVsEta@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Calibration
      algorithm = Calibration_Chisq
    }
        
        hist CalibrationVsPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Calibration
      algorithm = Calibration_Chisq
    }

        hist CalibrationVsPt@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/Calibration
      algorithm = CalibrationPt_Chisq
    } 


     ########## Energy By Layers ########################
        hist EmPreFrac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
          algorithm = Energy_Chisq
    }
        hist HECFrac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EMECFrac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EM1Frac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM2Frac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM3Frac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist Tile0Frac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile1Frac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile2Frac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist TileGapFrac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist FCalFrac@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
        }
        hist JetEMFraction@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EnergyFractionsProf@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
      algorithm = JetKinAve_Chisq
        }

        hist AveJetEMFracinEtaPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
        }

        hist AveJetHADFracinEtaPhi@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/EnergyByLayers
        }
################### LB ##############
        hist AveJetPtvsLB@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveJetEvsLB@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveJetSumEtvsLB@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveNJetvsLB@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveJetPtvsNVert@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveJetEvsNVert@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveJetSumEtvsNVert@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
        hist AveNJetvsNVert@TopoTriggerPt20UnClean {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/UnClean/LB
        }
     

    }
  }

#####################
# AntiKt4TopoEMJets_EF_j30_pt20 #
#####################


  dir AntiKt4TopoEMJets_EF_j30_pt20 {
     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

###################SUMMARY#########################

        hist NoJets@TopoTriggerPt20Summary {
         output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
        }
  
        hist JetPt@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
#          display = AxisRange(0.0,500.0,"X"),LogY
          display = LogY
        }
  
        hist JetEtaPhi@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary

        } 
      
        hist JetNconstituents@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
          display = AxisRange(0.0,200.0,"X"),LogY
        } 

        hist JetEtaAsymNorm@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
          display = AxisRange(-0.3,0.3,"Y")
        } 

        hist AveJetPtinEtaPhi@TopoTriggerPt20Summary {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
        }

        hist FracPtVsFracConst@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
        }

       hist JetEMFraction@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
          display = LogY
        }

       hist EnergyFractionsProf@TopoTriggerPt20Summary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Summary
        }

############################DETAILS################################
      #####################Jet Shapes####################
        hist Jetn90@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
        algorithm = JetShape_Chisq
        }

        hist JetVF@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
#         algorithm = JetShape_Chisq
          display = LogY
        }
 
        hist JetNconstituents@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
          display = AxisRange(0.0,50.0,"X")
        algorithm = JetShape_Chisq
    }

        hist ConstituentPtContribution@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
          display = AxisRange(0.0,200.0,"X"),LogY 
      algorithm = JetShapePt_Chisq
    }

        hist JetNormProf@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
          algorithm = JetShapeProf_Chisq
    }

        hist JetIntgProf@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist ConstituentProf@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
      algorithm = JetShapeProf_Chisq
    }

        hist ConstituentIntg@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
#     algorithm = JetShapeProf_Chisq
    }

        hist FracPtVsFracConst@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
#          algorithm = JetShapeProf_Chisq
    }

        hist DeltaRmax@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
          display = AxisRange(0.0,1.0,"X"),LogY
      algorithm = JetShape_Chisq
    }


         hist JetWidth@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/JetShapes
      algorithm = JetShape_Chisq
      display = AxisRange(0.0,0.5,"X")
    }
      
      #####################Leading Jet####################

        hist NextToLeadJetEtaPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
        }


        hist LeadJetEta@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
      algorithm = LeadJ_Chisq
    }

        hist LeadJetPt@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = LeadJPt_Chisq
    }

        hist LeadJetEtaPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
        }

        hist JetDeltaPt@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
          algorithm = LeadJ_Chisq
    }

        hist JetDeltaR@TopoTriggerPt20 {
         output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }
      
        hist JetDeltaEta@TopoTriggerPt20 {
         output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LeadingJet
     algorithm = LeadJ_Chisq
    }

      #####################Kinematics####################
  
        hist NoJets@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
#     display = AxisRange(0.0,15.0,"X"),LogY
    }

        hist AveJetEvsPhi@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist AveJetEvsEta@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsEta@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhi@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        #hist JetEtaAsym@TopoTriggerPt20 {
        #  output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
        #} 
 
        hist JetMass@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
          display = AxisRange(0.0,30.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }

        hist JetEta@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }

        hist JetPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }


        hist JetE@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
          display = LogY
      algorithm = JetKin_Chisq
    }

        hist JetE@TopoTriggerPt20Zoom {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKin_Chisq
    }

        hist JetPt@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
          display = AxisRange(0.0,500.0,"X"),LogY
      algorithm = JetKinMPE_Chisq
    }  

        hist JetHTmiss@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetHTmissPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKin_Chisq
    }
        hist JetsumEt@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      display = LogY
      algorithm = JetKin_Chisq
    }

        hist AveJetPtvsEtaCalCut@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq/eta
    }

        hist AveJetPtvsPhiCalCut@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
      algorithm = JetKinAve_Chisq
    }

        hist JetAbsEta@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
    }

        hist JetEtaAsymNorm@TopoTriggerPt20ZOOM {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
          display = AxisRange(-0.3,0.3,"Y")
          algorithm = JetKinAve_Chisq
    }
        hist JetEtaAsymNorm@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Kinematics
          display = AxisRange(-1.1,1.1,"Y")
          algorithm = JetKinAve_Chisq
    }
      ########## Eta-Phi #########################

        hist JetEtaPhi@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EtaPhi
      algorithm = JetEtaPhi_BinsDiff
    }

        hist AveJetEinEtaPhi@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
        hist AveJetPtinEtaPhi@TopoTriggerPt20 {
      output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EtaPhi
      algorithm = JetEtaPhiAve_BinsDiff
    }
      ########## Calibration #########################

        hist CalibrationVsEta@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Calibration
      algorithm = Calibration_Chisq
    }
        
        hist CalibrationVsPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Calibration
      algorithm = Calibration_Chisq
    }

        hist CalibrationVsPt@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/Calibration
      algorithm = CalibrationPt_Chisq
    } 


     ########## Energy By Layers ########################
        hist EmPreFrac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
          algorithm = Energy_Chisq
    }
        hist HECFrac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EMECFrac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyHEC_Chisq
    }
        hist EM1Frac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM2Frac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EM3Frac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist Tile0Frac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile1Frac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist Tile2Frac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = EnergyTile_Chisq
    }
        hist TileGapFrac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist FCalFrac@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
        }
        hist JetEMFraction@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
          display = LogY
      algorithm = Energy_Chisq
    }
        hist EnergyFractionsProf@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
      algorithm = JetKinAve_Chisq
        }

        hist AveJetEMFracinEtaPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
        }

        hist AveJetHADFracinEtaPhi@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/EnergyByLayers
        }
################### LB ##############
        hist AveJetPtvsLB@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveJetEvsLB@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveJetSumEtvsLB@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveNJetvsLB@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveJetPtvsNVert@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveJetEvsNVert@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveJetSumEtvsNVert@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
        hist AveNJetvsNVert@TopoTriggerPt20 {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/Details/LB
        }
 
     
  }

  dir AntiKt4TopoEMJets_EF_j30_pt20 {

######################################################
#        AntiKt4Topo_EF_j30_pt20 Fail DQCuts         #
######################################################

	 dir FailClean {
     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm = JetGatherData

###################SUMMARY#########################

        hist NoJets@TopoTriggerPt20FailCleanSummary {
         output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
        }
  
        hist JetPt@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
#          display = AxisRange(0.0,500.0,"X"),LogY
          display = LogY
        }
  
        hist JetEtaPhi@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean

        } 
      
        hist JetNconstituents@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
          display = AxisRange(0.0,200.0,"X"),LogY
        } 

        hist JetEtaAsymNorm@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
					display = AxisRange(-0.3,0.3,"Y")
        } 

        hist AveJetPtinEtaPhi@TopoTriggerPt20FailCleanSummary {
		  		output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
        }

        hist FracPtVsFracConst@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
        }

       hist JetEMFraction@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
          display = LogY
        }

       hist EnergyFractionsProf@TopoTriggerPt20FailCleanSummary {
          output = Jets/AntiKt4TopoEMJets_EF_j30_pt20/FailClean
        }

	}	
  }
} # End dir Jets

############################################################################
# Algorithms( two different reference files are used for Topo & Tower Jets)#
############################################################################



algorithm JetWorstCaseSummary {
  libname = libdqm_summaries.so
  name = JetWorstCaseSummary
}

################################
#Energy test will be used for the energy by layers plots
#Split it so that one can add different thresholds
#for the DQQual, _j40, and normal streams
################################

compositeAlgorithm GatherData&Chi2D {
  libnames = libdqm_algorithms.so
  subalgs = GatherData,Chi2Test_2D
}

compositeAlgorithm GatherData&Chi2Scatter {
  libnames = libdqm_algorithms.so
  subalgs = GatherData,Chi2Test_Scatterplot
}

compositeAlgorithm GatherData&BinsDiffStrips {
  libnames = libdqm_algorithms.so
  subalgs = GatherData,BinsDiffFromStripMedian
}

algorithm Energy_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = Energy_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = Energy_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = Energy_Chisq_Threshold_DQQual
 } 
}    

algorithm EnergyTile_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = EnergyTile_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = EnergyTile_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = EnergyTile_Chisq_Threshold_DQQual
 } 
}    


algorithm EnergyHEC_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = EnergyHEC_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = EnergyHEC_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = EnergyHEC_Chisq_Threshold_DQQual
 } 
}    



#####################################
#LeadJ test will be used for the leading jet histograms
#with the exception of leading jet Pt.
#As with the previous algorithm, there are three versions.
####################################

algorithm LeadJ_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = LeadJ_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = LeadJ_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = LeadJ_Chisq_Threshold_DQQual
  }
}

#################################
#LeadJPt test will be used for the Leading Jet Pt histogram
#As with the previous algorithm, there are three versions.
#################################

algorithm LeadJPt_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = LeadJPt_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = LeadJPt_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = LeadJPt_Chisq_Threshold_DQQual
  }
}

#################################
#Calibration algorithms
#################################

algorithm Calibration_Chisq {
   libname = libdqm_algorithms.so
   name = GatherData&Chi2Scatter
   thresholds = Calibration_Chisq_Threshold
   reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
   algorithm j40 {
   thresholds = Calibration_Chisq_Threshold_j40
   }
   algorithm DQQual {
   thresholds = Calibration_Chisq_Threshold_DQQual
   }
 }                 

################################
#Calibration chisq for Pt
################################

algorithm CalibrationPt_Chisq {
   libname = libdqm_algorithms.so
   name = GatherData&Chi2Scatter
   thresholds = CalibrationPt_Chisq_Threshold
   reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
   algorithm j40 {
   thresholds = CalibrationPt_Chisq_Threshold_j40
   }
   algorithm DQQual {
   thresholds = CalibrationPt_Chisq_Threshold_DQQual    
   }
 }

#############################
#Jet Shapes algorithms
#############################

algorithm JetShapeProf_Chisq {
   libname = libdqm_algorithms.so
   name = GatherData&Chi2Scatter
   thresholds = JetShapeProf_Chisq_Threshold
   reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
   algorithm j40 {
   thresholds = JetShapeProf_Chisq_Threshold_j40
   }
   algorithm DQQual {
   thresholds = JetShapeProf_Chisq_Threshold_DQQual   
   }
 }

algorithm JetShape_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = JetShape_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = JetShape_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = JetShape_Chisq_Threshold_DQQual
  }
}

algorithm JetShapePt_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = JetShapePt_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = JetShapePt_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = JetShapePt_Chisq_Threshold_DQQual
  }
}


#########################################
#Jet Kinematics algorithms              #
#########################################

algorithm JetKin_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = JetKin_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = JetKin_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = JetKin_Chisq_Threshold_DQQual
  }
}


algorithm JetKinAve_Chisq {
   libname = libdqm_algorithms.so
   name = GatherData&Chi2Scatter
   thresholds = JetKinAve_Chisq_Threshold
   reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
   algorithm eta {
   xmin = -4.2
   xmax = 4.2
   }
   algorithm j40 {
   thresholds = JetKinAve_Chisq_Threshold_j40
   }
   algorithm DQQual {
   thresholds = JetKinAve_Chisq_Threshold_DQQual    
   algorithm eta {
   xmin = -4.2
   xmax = 4.2
   }
   }
 }

algorithm JetKinMPE_Chisq {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2NDF
  thresholds = JetKinMPE_Chisq_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = JetKinMPE_Chisq_Threshold_j40
  }
  algorithm DQQual {
    thresholds = JetKinMPE_Chisq_Threshold_DQQual
  }
}


############################################
#Jet Eta-Phi Algorithms
############################################

algorithm JetEtaPhiAve_BinsDiff {
  libname = libdqm_algorithms.so
  name = GatherData&BinsDiffStrips
  PublishBins = 1
  MaxPublish = 10
  SigmaThresh = 0.
  xmin = -3.15
  xmax = 3.15
  MinStat = 15000
  TestConsistencyWithErrors = 0
  thresholds = JetEtaPhiAve_BinsDiff_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = JetEtaPhiAve_BinsDiff_Threshold_j40
  }
  algorithm DQQual {
    thresholds = JetEtaPhiAve_BinsDiff_Threshold_DQQual
  }
}



algorithm JetEtaPhi_BinsDiff {
  libname = libdqm_algorithms.so
  name = GatherData&Chi2D
  normalize = 1
  Num_to_print = 10
  NSigma = 5.0
  MaxSigma = 8.0
  xmin = -4.2
  xmax = 4.2
  MinStat = 25000
  thresholds = JetEtaPhi_BinsDiff_Threshold
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  algorithm j40 {
    thresholds = JetEtaPhi_BinsDiff_Threshold_j40
  }
  algorithm DQQual {
    thresholds = JetEtaPhi_BinsDiff_Threshold_DQQual
  }
}



##################################################################
#Older algorithms from Reyhaneh's original File
##################################################################


algorithm JetBinContentComp {
  libname = libdqm_algorithms.so
  name = BinContentComp
  thresholds = JetBinContThresh
  NSigma = 3
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
  PublishBins = 1
  algorithm central {
  xmin = -5.0
  xmax = 5.0
  }
  algorithm JetBinContentCompTower {
     reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
     algorithm centralTower {
  xmin = -1.4
  xmax = 1.4
     }
  }
}


algorithm JetGatherData {
  libname = libdqm_algorithms.so
  name = GatherData
  reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#  algorithm JetGatherDataTower {
#    reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#  }
}


#algorithm JetAvgCheck {
#  libname = libdqm_algorithms.so
#  name = Bins_Diff_FromAvg
#  NSigma = 5
#  PublishBins = 1
#  MaxPublish = 50
#  thresholds = JetAvgCheckThresh
#  ####reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#  algorithm central {
#    xmin = -1.4
#  xmax = 1.4
#  }
# 
#  algorithm JetAvgCheckTower {
#     ####reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#     algorithm centralTower {
#    xmin = -1.4
#  xmax = 1.4
#     }
#  }
#} 
#
#
#algorithm JetAvgCheckTower {
#  libname = libdqm_algorithms.so
#  name = Bins_Diff_FromAvg
#  NSigma = 5
#  PublishBins = 1
#  MaxPublish = 50
#  thresholds = JetAvgCheckThresh
#  ####reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#  algorithm centralTower {
#        xmin = -1.4
#        xmax = 1.4
#  }
#}
# 
#algorithm JetCheckMean {
#  libname = libdqm_algorithms.so
#  name = AlgCheckMean
#  thresholds = JetCheckMeanThresh
#  ####reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#  
#  algorithm Loose {
#    thresholds = JetCheckMeanThresh/Loose
#  }
#  algorithm JetCheckMeanTower {
#    ####reference = stream=physics_JetTauEtmiss:CentrallyManagedReferences_JetTauEtmiss;CentrallyManagedReferences
#  
#    algorithm LooseTower {
#    thresholds = JetCheckMeanThresh/Loose
#    }
#  }
# 
#}




############################
#       Thresholds         #
############################


###############################
#Energy Thresholds
###############################

thresholds Energy_Chisq_Threshold {
    limits Chi2_per_NDF {
      warning = 3.
      error = 4.
      }
}

thresholds Energy_Chisq_Threshold_j40 {
   limits Chi2_per_NDF {
     warning = 3.
     error = 4.
     }
}

thresholds Energy_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds EnergyHEC_Chisq_Threshold {
    limits Chi2_per_NDF {
      warning = 4.
      error = 6.
      }
}

thresholds EnergyHEC_Chisq_Threshold_j40 {
   limits Chi2_per_NDF {
     warning = 4.
     error = 5.
     }
}

thresholds EnergyHEC_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 4.
    error = 6.
    }
}

thresholds EnergyTile_Chisq_Threshold {
    limits Chi2_per_NDF {
      warning = 4.
      error = 7.5
      }
}

thresholds EnergyTile_Chisq_Threshold_j40 {
   limits Chi2_per_NDF {
     warning = 4.
     error = 5.
     }
}

thresholds EnergyTile_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 4.
    error = 7.5
    }
}



#####################################
#Leading Jet Thresholds
#####################################

thresholds LeadJ_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds LeadJ_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds LeadJ_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}


thresholds LeadJPt_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds LeadJPt_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds LeadJPt_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}


##################################################
#Calibration Thresholds
##################################################


thresholds Calibration_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds Calibration_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds Calibration_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}


thresholds CalibrationPt_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds CalibrationPt_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds CalibrationPt_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

##########################################
#Jet Shapes Thresholds
##########################################

thresholds JetShape_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetShape_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetShape_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}


thresholds JetShapeProf_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 4.
    error = 5.
    }
}

thresholds JetShapeProf_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 4.
    error = 5.
    }
}

thresholds JetShapeProf_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 4.
    error = 5.
    }
}


thresholds JetShapePt_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetShapePt_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetShapePt_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

############################################
#Kinematics Thresholds                     
############################################

thresholds JetKin_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKin_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKin_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKinAve_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKinAve_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKinAve_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}


thresholds JetKinMPE_Chisq_Threshold {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKinMPE_Chisq_Threshold_j40 {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}

thresholds JetKinMPE_Chisq_Threshold_DQQual {
  limits Chi2_per_NDF {
    warning = 3.
    error = 4.
    }
}


##################################################
#Eta-Phi Thresholds
##################################################

thresholds JetEtaPhiAve_BinsDiff_Threshold {
  limits MaxDeviation {
    warning = 3.0
    error = 6.0
  }
}

thresholds JetEtaPhiAve_BinsDiff_Threshold_j40 {
  limits MaxDeviation {
    warning = 3.0
    error = 6.0
  }
}

thresholds JetEtaPhiAve_BinsDiff_Threshold_DQQual {
  limits MaxDeviation {
    warning = 3.0
    error = 6.0
  }
}

thresholds JetEtaPhi_BinsDiff_Threshold {
  limits NBins {
    warning = 5
    error = 10
  }
}

thresholds JetEtaPhi_BinsDiff_Threshold_j40 {
  limits NBins {
    warning = 5
    error = 10
  }
}

thresholds JetEtaPhi_BinsDiff_Threshold_DQQual {
  limits NBins {
    warning = 5
    error = 10
  }
}



######################################################################################
#Some Older thresholds from Reyhaneh's original file
######################################################################################


thresholds JetMaxDevThresh {
  limits MaxDeviation {
    warning = 5.
    error = 8.
  }
}


thresholds JetBinContThresh {
  limits NBins {
    warning = 0
    error = 5
  }
}

