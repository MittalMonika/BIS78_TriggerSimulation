package LumiBlockComps

author Marjorie Shapiro <mdshapiro@lbl.gov>

#use MinimalRunTime              MinimalRunTime-*        Control
use AtlasPolicy			AtlasPolicy-*

branches run

use GaudiInterface              GaudiInterface-*     External
use AthenaKernel                AthenaKernel-*       Control
use LumiBlockData               LumiBlockData-*      LumiBlock
use AthenaPoolKernel            AthenaPoolKernel-*   Database/AthenaPOOL
use AtlasROOT                   AtlasROOT-*          External
use LumiBlockTPCnv		LumiBlockTPCnv-*     LumiBlock/LumiBlockPers
use GoodRunsLists		GoodRunsLists-*	     DataQuality
use AtlasCOOL  			AtlasCOOL-*  		External
use AtlasCORAL 			AtlasCORAL-* 		External
use AthenaBaseComps             AthenaBaseComps-*       Control
#use AtlasBoost                  AtlasBoost-*         External               

private
use StoreGate                   StoreGate-*          Control
use AthenaPoolUtilities         AthenaPoolUtilities-*   Database/AthenaPOOL
use CoraCool   			CoraCool-*   		Database -no_auto_imports
use CoolConvUtilities		CoolConvUtilities-*	Database -no_auto_imports
use DBDataModel                 DBDataModel-*           Database/AthenaPOOL
use EventInfo                   EventInfo-*          Event

use AtlasPOOL                   AtlasPOOL-*             External

public

# Create a named installed library
library LumiBlockCoolQuery CoolQuery.cxx LumiBlockCollectionConverter.cxx LumiCalculator.cxx ReplicaSorter.cxx
apply_pattern named_installed_library library=LumiBlockCoolQuery

# Create a component library
library LumiBlockComps CreateAANTFromLumiBlockCollection.cxx CreateLumiBlockCollectionFromFile.cxx ILumiCalcSvc.cxx LumiBlockMetaDataTool.cxx LumiCalcSvc.cxx LumiBlockMuTool.cxx LumiBlockMuWriter.cxx LumiCalibrator.cxx LuminosityTool.cxx TrigLivefractionTool.cxx LumiBlockTester.cxx components/*.cxx
macro_append LumiBlockComps_dependencies " LumiBlockCoolQuery"
apply_pattern component_library

apply_pattern declare_python_modules files="*.py"
#apply_pattern declare_joboptions files="CreateLumiBlocks_jobOptions.py QueryExample.py"
apply_pattern declare_joboptions files="*.py"
apply_pattern declare_scripts files="LumiCalc.py"

# Create a binary executable
application iLumiCalc iLumiCalc.cxx cmdline.cxx CoolQuery.cxx LumiBlockCollectionConverter.cxx LumiCalculator.cxx ReplicaSorter.cxx
macro_append iLumiCalc_dependencies " LumiBlockCoolQuery"
macro_append iLumiCalc_use_linkopts " -L$(ROOTSYS)/lib -lCintex"

# Create dictionary for LumiBlockComps
private
use AtlasReflex  AtlasReflex-*  External -no_auto_imports

##apply_pattern lcgdict dict=LumiBlockComps selectionfile=selection.xml options=" -I$(LUMIBLOCKCOMPSROOT)/src" headerfiles="../LumiBlockComps/ILumiCalcSvc.h"
apply_pattern lcgdict dict=LumiBlockComps selectionfile=selection.xml options=" -I$(LUMIBLOCKCOMPSROOT)/src" headerfiles="../LumiBlockComps/LumiBlockCompsDict.h"

