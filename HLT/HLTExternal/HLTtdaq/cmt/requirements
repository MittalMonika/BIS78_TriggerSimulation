package HLTtdaq

author Reiner.Hauser@cern.ch

use AtlasPolicy           AtlasPolicy-*
use TDAQPolicy            *
use HLTtdaqcommon         HLTtdaqcommon-*  HLT/HLTExternal

set TDAQ_INST_PATH  $(TDAQPolicy_cmtpath)/installed

path TDAQ_PYTHONPATH $(TDAQ_INST_PATH)/$(CMTCONFIG)/lib:$(TDAQ_INST_PATH)/share/lib/python

path_remove  PYTHONPATH  $(TDAQ_INST_PATH)/
path_prepend PYTHONPATH "$(TDAQ_INST_PATH)/$(CMTCONFIG)/lib"
path_prepend PYTHONPATH "$(TDAQ_INST_PATH)/share/lib/python"

path_remove  PATH  $(TDAQ_INST_PATH)/
path_prepend PATH "$(TDAQ_INST_PATH)/share/bin"
path_prepend PATH "$(TDAQ_INST_PATH)/$(CMTCONFIG)/bin"

path_remove LD_LIBRARY_PATH  $(TDAQ_INST_PATH)/$(CMTCONFIG)/lib
path_append LD_LIBRARY_PATH "$(TDAQ_INST_PATH)/$(CMTCONFIG)/lib"

path_append TDAQ_DB_PATH "$(TDAQ_INST_PATH)/databases"

include_dirs  $(TDAQ_INST_PATH)/include $(TDAQ_INST_PATH)/$(CMTCONFIG)/include

macro HLTtdaq_linkopts  "-L$(TDAQ_INST_PATH)/$(CMTCONFIG)/lib ${HLTtdaqcommon_linkopts}"

# to fix warnings from omni in TDAQ release
macro_remove AtlasCxxPolicy_pp_cppflags "-DHAVE_BOOL"
macro_remove AtlasCxxPolicy_pp_cppflags "-DHAVE_NAMESPACES"
macro_remove AtlasCxxPolicy_pp_cppflags "-DHAVE_DYNAMIC_CAST"

# Workaround for bug in tdaq-03-00-01 that clears this macro
macro cc "$(cc_name)"
macro cpp "$(cpp_name)"
